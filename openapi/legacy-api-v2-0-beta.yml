{"openapi":"3.0.1","info":{"title":"API 2.0 - BETA","description":"BETA endpoints for version 2.0 of the Lightspeed Retail (X-Series) API.","termsOfService":"https://developers.lightspeedhq.com/terms","contact":{"name":"Lightspeed Developer Relations","url":"https://developers.retail.lightspeed.app","email":"x-series.api@lightspeedhq.com"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"2.0"},"servers":[{"url":"https://{domain_prefix}.retail.lightspeed.app/api/2.0","variables":{"domain_prefix":{"default":"example","description":"Domain prefix of the store to be operated on"}}}],"security":[{"bearerAuth":[]}],"tags":[{"name":"Audit","description":"Audit and security operations"},{"name":"Brands","description":"Brand operations"},{"name":"Consignments","description":"Stock control operations"},{"name":"Consignment Products","description":"Consignment Product operations"},{"name":"Customers","description":"Customer operations"},{"name":"Channel request log","description":"A log of requests and responses between Lightspeed and an integration channel"},{"name":"Customer Groups","description":"Customer Group operations"},{"name":"Fulfillments","description":"Fulfillment operations"},{"name":"Gift Cards","description":"Gift Card operations"},{"name":"Inventory","description":"Inventory operations"},{"name":"Outlet Product Taxes","description":"Outlet Product Tax operations"},{"name":"Outlets","description":"Outlet operations"},{"name":"Partner Billing","description":"Partner Billing operations"},{"name":"Payment Types","description":"Payment Type operations"},{"name":"Price Book Products","description":"Price Book Product operations"},{"name":"Price Books","description":"Price Book operations"},{"name":"Variant Attributes","description":"Variant Attribute operations"},{"name":"Product Images","description":"Product Image operations"},{"name":"Product Types","description":"Product Type operations"},{"name":"Products","description":"Product operations"},{"name":"Promotions","description":"Promotion operations"},{"name":"Registers","description":"Register operations"},{"name":"Register Sales","description":"Register Sale operations"},{"name":"Sales","description":"Sale operations"},{"name":"Search","description":"Search related operations"},{"name":"Store Credits","description":"Store Credit operations"},{"name":"Suppliers","description":"Supplier operations"},{"name":"Tags","description":"Tag operations"},{"name":"Taxes","description":"Tax operations"},{"name":"Users","description":"User operations"},{"name":"Webhooks","description":"Webhook operations"},{"name":"Workflows","description":"Workflow operations"}],"paths":{"/auditlog_events":{"get":{"tags":["Audit"],"summary":"List audit events","description":"This API returns a list of all the audit log events that match the given filters.\n\n**Note**: Not every single change in the system is audited. Currently the audited entities include:\n\n| Object     | Action                    | Notes |\n|------------|---------------------------|-------|\n| customer   | form create/update/delete |       |\n| customer   | api create/update/delete  |       |\n| customer   | csv import                |       |\n| register   | form create/update/delete |       |\n| outlet     | form create/update/delete |       |\n| csv import | init                      | Tracks CSV import requests and includes data about the import type (customer, product) and the CSV file line count. |\n| product*   | create/update/delete      | All actions on products. |\n| security   | terms_accepted, signin, signout, change_email, change_password, reset_password_confirm, user_switching_succes, user_switching_denied, new_personal_token, update_personal_token, delete_personal_tokenss, issue_oauth_token ||\n| vend_consignment | insert/update | Receiving, creating and editing purchase orders as well as inventory counts. |\n| vend_consignment_product | insert/update | Changes to the products in a purchase order. Such as creating purchase orders. |\n| timeclock | clockin/clockout | Clock event where a user either clocked in or clocked out. |\n\n### Filters\n- The from and to filters require a full isoformat date, for example `?from=2020-02-03T00:00:00&to=2020-02-05T23:59:59`.\n\nðŸ”’ Requires: `audit:read` scope","operationId":"GetAuditLogEvents","parameters":[{"name":"page_size","in":"query","description":"The size for a single page of results. By default 100 events will be returned.","schema":{"maxLength":100,"type":"string"}},{"name":"offset","in":"query","description":"The number of objects to skip.","schema":{"maxLength":0,"type":"string"}},{"name":"from","in":"query","description":"The lower limit for the `occurred_at` attribute. to be included in the response. The date and time from needs to be in isoformat.","schema":{"type":"string"}},{"name":"to","in":"query","description":"The upper limit for the `occurred_at` attribute. to be included in the response. The date and time from needs to be in isoformat.","schema":{"type":"string"}},{"name":"order","in":"query","description":"The sorting order for the results. Sorting is done by the `occurred_at` parameter. The default order is descending.","schema":{"type":"string"}},{"name":"user_id","in":"query","description":"The `id` of the user to filter the events by.","schema":{"type":"string"}},{"name":"type","in":"query","description":"The `type` of the events to be filtered for the response.","schema":{"type":"string"}}],"responses":{"200":{"description":"The response if the API call is successful.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditLogEvent"}},"Insert of product example":{"example":{"id":"1217239695299842048","user_id":"02dcd191-ae2b-11e9-f336-cd2e6d8a5806","type":"vend_product","action":"insert","entity_id":"02dcd191-aeba-11ea-f336-372c9c078432","ip_address":"14.1.34.16","user_agent":"vend/api-testing/0.0.1","occurred_at":"2020-01-15T00:18:52Z","created_at":"2020-01-15T00:18:53Z","data":{"id":"02dcd191-aeba-11ea-f336-372c9c078432","sku":"10032","name":"productaroo-131852","active":1,"handle":"02dcd191-aeba-11ea-f336-372c9c03224a","source":"USER","tax_id":"02dcd191-ae2b-11e9-f336-cd2e6d864598","brand_id":"02dcd191-aeba-11e9-f336-ff6699785796","adjustment":0.2,"created_at":"2020-01-15 00:18:52","retail_tax":0,"updated_at":"2020-01-15 00:18:52","description":"my product description","retailer_id":"02dcd191-ae2b-11e9-f336-cd2e6d82a87b","has_variants":0,"is_composite":0,"retail_price":0.87,"supply_price":0,"variant_name":"productaroo-131852","has_inventory":1,"adjustment_type":"MARKUP","attributed_cost":0,"product_type_id":"02dcd191-aeba-11ea-f336-372c9c1b0b56","default_display_price":0},"old_data":{}}}}}}}},"/fulfillments":{"get":{"summary":"Get Fulfillments Summary","description":"Retrieves a paginated list of fulfillment summary items with optional filtering","operationId":"getFulfillmentSummary","tags":["Fulfillments"],"parameters":[{"name":"outlet_id","in":"query","description":"Filter by outlet IDs (can be specified multiple times, e.g. ?outlet_id=1234&outlet_id=5678)","required":false,"explode":true,"schema":{"type":"array","items":{"type":"string"}},"example":"e058ea02-c565-405f-be27-cefaeeca1f92"},{"name":"sale_id","in":"query","description":"Filter by sale IDs (can be specified multiple times, e.g. ?sale_id=1234&sale_id=5678)","required":false,"explode":true,"schema":{"type":"array","items":{"type":"string"}},"example":"81b37e5f-aa50-4fe3-95d3-a3cec73a7e2c"},{"name":"fulfillment_type","in":"query","description":"Filter by fulfillment types (can be specified multiple times, e.g. ?fulfillment_type=PICKUP&fulfillment_type=DISPATCH)","required":false,"explode":true,"schema":{"type":"array","items":{"type":"string","enum":["PICKUP","DISPATCH","SERVICE"]}},"example":"DISPATCH"},{"name":"fulfillment_state","in":"query","description":"Filter by fulfillment states (can be specified multiple times, e.g. ?fulfillment_state=OPEN&fulfillment_state=STARTED)","required":false,"explode":true,"schema":{"type":"array","items":{"type":"string","enum":["OPEN","STARTED","PICKED","PACKED","FULFILLED"]}},"example":"OPEN"},{"name":"page_number","in":"query","description":"Page number for pagination (1-based)","required":false,"schema":{"type":"integer","minimum":1,"default":1},"example":1},{"name":"page_size","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","minimum":1,"maximum":100,"default":10},"example":20}],"responses":{"200":{"description":"Successful response with fulfillment summary data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FulfillmentSummaryResponse"}}}},"400":{"description":"Bad request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}}},"/fulfillments/{fulfillment_id}/fulfill":{"post":{"tags":["Fulfillments"],"summary":"Fulfill line items within a sale","description":"Fulfills line items for a given sale. This is an idempotent action.","operationId":"postFulfillLineItems","security":[{"bearerAuth":[]}],"parameters":[{"name":"fulfillment_id","in":"path","required":true,"description":"The unique identifier of the fulfillment","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FulfillLineItemsRequest"}}},"required":true},"responses":{"200":{"description":"Sale line item fulfilled successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FulfillLineItemsResponse"}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"409":{"description":"Conflict"}}}},"/fulfillments/{fulfillment_id}/pack":{"post":{"tags":["Fulfillments"],"summary":"Partial Pack line items within a sale","description":"Sets pack quantity for line items for a given sale. This is an idempotent action.","operationId":"postPackLineItems","security":[{"bearerAuth":[]}],"parameters":[{"name":"fulfillment_id","in":"path","required":true,"description":"The unique identifier of the fulfillment","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PackLineItemsRequest"}}},"required":true},"responses":{"200":{"description":"Sale line item packed successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PackLineItemsResponse"}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"409":{"description":"Conflict"}}}},"/fulfillments/{fulfillment_id}/pick":{"post":{"tags":["Fulfillments"],"summary":"Partial Pick line items within a sale","description":"Sets pick quantity for line items for a given sale. This is an idempotent action.","operationId":"postPickLineItems","security":[{"bearerAuth":[]}],"parameters":[{"name":"fulfillment_id","in":"path","required":true,"description":"The unique identifier of the fulfillment","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PickLineItemsRequest"}}},"required":true},"responses":{"200":{"description":"Sale line item picked successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PickLineItemsResponse"}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"409":{"description":"Conflict"}}}},"/fulfillments/fulfill":{"post":{"tags":["Fulfillments"],"summary":"Fulfill a Sale","description":"Completes all fulfillments for a given sale. This is an idempotent action.","operationId":"postFulfillSale","security":[{"bearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FulfillSaleRequest"}}}},"responses":{"200":{"description":"Sale fulfilled successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FulfillSaleResponse"}}}},"400":{"description":"Bad Request - The request body is malformed."},"401":{"description":"Unauthorized - Authentication information is missing or invalid."},"404":{"description":"Not Found"},"409":{"description":"Conflict"}}}},"/gift_cards":{"get":{"tags":["Gift Cards"],"summary":"List gift cards","description":"Returns a paginated list of gift cards.","operationId":"ListGiftCards","parameters":[{"name":"before","in":"query","description":"The upper limit for the ID to be included in the response.","schema":{"type":"string"}},{"name":"page_size","in":"query","description":"The maximum number of items to be returned in the response. NOTE: 200 is the maximum value of the page_size parameter.","schema":{"type":"integer"}},{"name":"card_number","in":"query","description":"Find by gift card number.","schema":{"type":"string"}},{"name":"status","in":"query","description":"Filter by gift card status.","schema":{"type":"string","enum":["ACTIVE","INACTIVE","REDEEMED","VOIDED","EXPIRED"]}}],"responses":{"200":{"description":"The gift card list was successfully retrieved.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiftCardCollection"}}}}}},"post":{"tags":["Gift Cards"],"summary":"Create gift card","description":"Creates and activates a new gift card. The gift card will be created with one transaction with status \"ACTIVATION\" which contains the initial balance of the gift card.","operationId":"CreateGiftCard","requestBody":{"description":"Create gift card parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiftCardActivationParams"}}},"required":true},"responses":{"201":{"description":"Gift card successfully created.","content":{"application/json":{"schema":{"type":"object"}}}},"422":{"description":"Gift card has already been created and activated.","content":{"application/json":{"schema":{"type":"object"}}}}},"x-codegen-request-body-name":"GiftCardActivationParams"}},"/gift_cards/{number}":{"get":{"tags":["Gift Cards"],"summary":"Find gift card","description":"Finds and returns the given card number. Returns a 404 if the card does not exist.\n\nWithin the gift card structure returned is the field gift__card__transactions which contains a list of all the transactions associated with the gift card. In this list you will see one or more of the following statuses:\n\n* \"ACTIVATION\" - This transaction type is added automatically when the gift card is created. The amount will be the initial balance that was loaded onto the gift card.\n* \"REDEEMING\" - This status indicates the customer used their gift card to pay for one or more items. The amount MUST be negative.\n* \"IMPORTING\" - You should only see this if gift cards were imported into the gift card system.\n* \"VOIDING\" - You will see this status if the gift card has been voided. Note that the balance of the card is set to zero when the gift card is voided.\n* \"EXPIRING\" - This transaction is added automatically when the gift card expires. Again note that the balance is set to zero when the gift card expires.\n* \"REVERSING\" - This status indicates that a given transaction was reversed.\n* \"RELOADING\" - This status means that more credit was loaded onto the gift card.","operationId":"FindGiftCard","parameters":[{"name":"number","in":"path","description":"The number of the gift card to find.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Gift card successfully retrieved.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiftCard"}}}},"404":{"description":"Gift card was not found.","content":{"application/json":{"schema":{"type":"object"}}}}}},"delete":{"tags":["Gift Cards"],"summary":"Void gift card","description":"Void the given gift card.","operationId":"VoidGiftCard","parameters":[{"name":"number","in":"path","description":"The number of the gift card to be voided.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Gift card successfully voided.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiftCard"}}}},"404":{"description":"The gift card was not found.","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/gift_cards/{number}/transactions":{"post":{"tags":["Gift Cards"],"summary":"Create a gift card transaction","description":"Creates a new gift card transaction. The two most important fields for creating a new gift card transaction are the number of the gift card and the type of the transaction. The type determines what sort of transaction it is.\n\n* \"REDEEMING\" - Use this type when you want to redeem a certain amount from the gift card balance. The amount MUST be negative. If you want to add an amount to the balance use the \"RELOADING\" type.\n* \"RELOADING\" - Use this type when you load a new amount onto a gift card.\n\nIf the gift card does not have enough credit to honour the transaction a 422 HTTP status code will be returned.\n\n## Idempotency\n\n Please populate the client_id field with a unique transaction identifier, to ensure that the transaction is safe from double-submit problems. See [the tutorial](/docs/gift_cards#idempotency) for more information.","operationId":"CreateGiftCardTransaction","parameters":[{"name":"number","in":"path","description":"The number of the gift card to add the transaction to.","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Create gift card transaction parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiftCardTransactionParams"}}},"required":true},"responses":{"201":{"description":"Gift card transaction successfully created.","content":{"application/json":{"schema":{"type":"object"}}}},"403":{"description":"A 403 will be returned if the client id idempotency is violated.","content":{"application/json":{"schema":{"type":"object"}}}},"404":{"description":"The gift card was not found.","content":{"application/json":{"schema":{"type":"object"}}}},"422":{"description":"The gift card does not have enough credit to process this transaction.","content":{"application/json":{"schema":{"type":"object"}}}}},"x-codegen-request-body-name":"GiftCardActivationParams"}},"/gift_cards/transactions/{transactionId}":{"get":{"tags":["Gift Cards"],"summary":"Find gift card by transaction id","description":"Finds and returns the card associated with the given transaction id. Returns a 404 if the gift card with the given transaction id was not found.","operationId":"FindGiftCardByTransactionId","parameters":[{"name":"transactionId","in":"path","description":"The transaction id of the gift card transaction to find.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"The gift card with this transaction id was successfully found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiftCard"}}}},"404":{"description":"The gift card associated with the transaction id was not found.","content":{"application/json":{"schema":{"type":"object"}}}}}},"delete":{"tags":["Gift Cards"],"summary":"Reverse gift card transaction","description":"Reverse the given transction on the gift card. If the transaction is successful a new transaction will be added to the gift card transactions with the status \"REVERSING\".","operationId":"ReverseGiftCardTransaction","parameters":[{"name":"transactionId","in":"path","description":"The transaction id to be reversed for the gift card.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"The gift card transaction was successfully reversed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiftCard"}}}},"404":{"description":"A 404 is returned if the gift card transaction is not found.","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/partner/billing/subscriptions":{"get":{"tags":["Partner Billing"],"summary":"List partner subscriptions","description":"Returns list of partner's subscriptions of the retailer","operationId":"PartnerSubscriptions","responses":{"200":{"description":"","content":{"application/json":{"schema":{"required":["data"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/PartnerSubscriptions"}}}}}}}}},"/partner/billing/subscriptions/{subscription_id}":{"get":{"tags":["Partner Billing"],"summary":"Get a partner subscription","description":"Returns a specific partner subscription of the retailer","operationId":"PartnerSubscription","parameters":[{"name":"subscription_id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/PartnerSubscription"}}}}}}}}},"/partner/billing/token":{"post":{"tags":["Partner Billing"],"summary":"Create a partner subscription token","description":"Creates a partner subscription token (called by partner using retailer's access token)","operationId":"PartnerToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerSubscriptionTokenRequest"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/PartnerSubscriptionTokenResponse"}}}}}}},"x-codegen-request-body-name":"body"}},"/partner/billing/token/{partner_subscription_token}":{"get":{"tags":["Partner Billing"],"summary":"Get subscription by token","description":"Returns a subscription token data","operationId":"PartnerTokenGet","parameters":[{"name":"partner_subscription_token","in":"path","description":"The partner subscription token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/PartnerSubscriptionToken"}}}}}}}}},"/partner/billing/update-subscription/token":{"post":{"tags":["Partner Billing"],"summary":"Create a partner update subscription token","description":"Creates a partner subscription token with the intention of updating a subscription (called by partner using retailer's access token)","operationId":"PartnerUpdateSubscriptionToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerUpdateSubscriptionTokenRequest"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/PartnerSubscriptionTokenResponse"}}}}}}},"x-codegen-request-body-name":"PartnerUpdateSubscriptionTokenRequest"}},"/store_credits":{"get":{"tags":["Store Credits"],"summary":"Store credit list","description":"Returns a list of store credit customers.","operationId":"ListStoreCredit","parameters":[{"name":"page_size","in":"query","description":"The maximum number of items to be returned in the response.","schema":{"type":"integer"}},{"name":"includes[]","in":"query","description":"Include supplementary data. The only valid value for includes[] is 'customer'.","schema":{"type":"string"}}],"responses":{"200":{"description":"The list of store credit customers.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreCreditCustomer"}}}}}}},"/store_credits/{customerId}":{"get":{"tags":["Store Credits"],"summary":"Store credit list for the given customer id","description":"Returns a list of store credits for the given customer id.","operationId":"ListStoreCreditForCustomer","parameters":[{"name":"customerId","in":"path","description":"Find by customer id.","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"includes[]","in":"query","description":"Include supplementary data. The only valid value for includes[] is 'customer'.","schema":{"type":"string"}}],"responses":{"200":{"description":"The store credit details for the given customer.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreCreditCustomer"}}}},"404":{"description":"The given customer not found.","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/store_credits/bulk":{"post":{"tags":["Store Credits"],"summary":"Store credit bulk list","description":"Returns a list of store credit for multiple customers.","operationId":"BulkStoreCreditList","requestBody":{"description":"The list of customer ids to get related store credit for.","content":{"application/json":{"schema":{"type":"array","items":{"type":"string","format":"uuid"}}}},"required":true},"responses":{"200":{"description":"A list of customers with associated store credit balances.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreCreditBulkResponse"}}}}},"x-codegen-request-body-name":"ids"}},"/store_credits/{customerId}/transactions":{"post":{"tags":["Store Credits"],"summary":"Create a store credit transaction","description":"Creates a new store credit transaction. The type determines what sort of transaction it is.\n\n* \"REDEMPTION\" - Use this type when you want to redeem a certain amount from the store credit balance. The amount MUST be negative. If you want to add an amount to the balance use the \"ISSUE\" type.\n* \"ISSUE\" - Use this type when you issue store credit to a customer.\n* \"REVERSE\" - Use this type when voiding an earlier ISSUE or REDEMPTION transaction.\n\nIf the customer account does not have enough credit to honour a REDEMPTION transaction a 422 HTTP status code will be returned.\n\n## Idempotency\n\n Please populate the client_id field with a unique transaction identifier, to ensure that the transaction is safe from double-submit problems. See [the tutorial](/docs/store_credit#idempotency) for more information.","operationId":"CreateStoreCreditTransaction","parameters":[{"name":"customerId","in":"path","description":"The customer id to apply the store transaction to.","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"description":"The store credit transaction details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreCreditTransactionParams"}}},"required":true},"responses":{"200":{"description":"Transaction successfully added to customer's store credit.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreCreditTransaction"}}}},"404":{"description":"The given customer was not found.","content":{"application/json":{"schema":{"type":"object"}}}},"422":{"description":"There is insufficient balance for this customer to honour the transaction.","content":{"application/json":{"schema":{"type":"object"}}}}},"x-codegen-request-body-name":"StoreCreditTransactionParams"}},"/store_credits/report":{"get":{"tags":["Store Credits"],"summary":"Store credit report","description":"Returns a report of store credits.","operationId":"StoreCreditReport","responses":{"200":{"description":"A report of all store credit associated with the retailer.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoreCreditReport"}}}}}}},"/workflows/custom_fields":{"get":{"tags":["Workflows"],"summary":"List custom field definitions","description":"Returns the custom field definitions for a given entity type.","operationId":"GetCustomFields","parameters":[{"name":"entity","in":"query","description":"The entity type.","required":true,"schema":{"type":"string","enum":["sale","line_item","customer","product"]}}],"responses":{"200":{"description":"A list of all the custom field definitions associated with the entity type.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomFieldDefinitionCollection"}}}}}},"post":{"tags":["Workflows"],"summary":"Define a new custom field","description":"Create a new custom field definition for a given entity type.","operationId":"CreateCustomField","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomFieldDefinitionParams"}}},"required":true},"responses":{"200":{"description":"A custom field definition.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/CustomFieldDefinition"}}}}}}},"x-codegen-request-body-name":"body"}},"/workflows/custom_fields/{customFieldId}":{"put":{"tags":["Workflows"],"summary":"Update a custom field","description":"Updates properties on a custom field.","operationId":"update-custom-field","parameters":[{"name":"customFieldId","in":"path","description":"The ID of the custom field that you want to update.","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCustomFieldParams"}}},"required":true},"responses":{"200":{"description":"A custom field definition.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/CustomFieldDefinition"}}}}}}},"x-codegen-request-body-name":"body"},"delete":{"tags":["Workflows"],"summary":"Delete a custom field","description":"Delete a custom field and all the values stored on that field.","operationId":"delete-custom-field","parameters":[{"name":"customFieldId","in":"path","description":"The ID of the custom field that you want deleted.","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"The custom field was deleted.","content":{}}}}},"/workflows/custom_fields/values":{"get":{"tags":["Workflows"],"summary":"List custom field values","description":"Returns the custom field values for a given entity.","operationId":"GetCustomFieldValues","parameters":[{"name":"entity","in":"query","description":"The entity type.","required":true,"schema":{"type":"string","enum":["sale","line_item","customer","product"]}},{"name":"entity_id","in":"query","description":"The entity ID.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"A list of all the custom field values associated with entity.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomFieldValueCollection"}}}}}},"post":{"tags":["Workflows"],"summary":"Set new custom field values","description":"Set new custom field values on a given entity.","operationId":"SetCustomFieldValues","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomFieldValuesParams"}}},"required":true},"responses":{"200":{"description":"A list of all the custom field values associated with the entity.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomFieldValueCollection"}}}}},"x-codegen-request-body-name":"body"}},"/workflows/remote_rules":{"get":{"tags":["Workflows"],"summary":"List remote rules","description":"Returns the remote business rules registered on the retailer.","operationId":"get-remote-rules","responses":{"200":{"description":"A list of all the remote business rules associated with the retailer.","content":{"application/json":{"schema":{"required":["data"],"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RemoteBusinessRule"}}}}}}}}},"post":{"tags":["Workflows"],"summary":"Create remote rule","description":"Register a new remote rule for the retailer.","operationId":"create-remote-rule","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RemoteBusinessRuleParams"}}},"required":true},"responses":{"200":{"description":"A remote business rule.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/RemoteBusinessRule"}}}}}}},"x-codegen-request-body-name":"body"}},"/workflows/remote_rules/{remoteRuleId}":{"delete":{"tags":["Workflows"],"summary":"Delete a remote rule","description":"Delete a remote business rule.","operationId":"delete-remote-rule","parameters":[{"name":"remoteRuleId","in":"path","description":"The ID of the remote business rules that you want deleted.","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"The remote business rule was deleted.","content":{}}}}},"/workflows/rules":{"get":{"tags":["Workflows"],"summary":"List rules","description":"Returns the business rules for the retailer.","operationId":"get-rules","responses":{"200":{"description":"A list of all the business rules associated with the retailer.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/BusinessRule"}}}}}}}}},"post":{"tags":["Workflows"],"summary":"Create rule","description":"Create a rule for the retailer.","operationId":"create-rule","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusinessRuleParams"}}},"required":true},"responses":{"200":{"description":"A business rule.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/BusinessRule"}}}}}}},"x-codegen-request-body-name":"body"}},"/workflows/rules/{ruleId}":{"delete":{"tags":["Workflows"],"summary":"Delete a business rule","description":"Delete a business rule.","operationId":"delete-rule","parameters":[{"name":"ruleId","in":"path","description":"The ID of the business rules that you want deleted.","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"The business rule was deleted.","content":{}}}}},"/webhooks/{webhookId}":{"get":{"tags":["Webhooks"],"summary":"Get Webhook","description":"Fetch a single webhook by its ID.","operationId":"get-webhooks-id","parameters":[{"name":"webhookId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Webhook"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}},"put":{"tags":["Webhooks"],"summary":"Update Webhook","description":"Update an existing webhook","operationId":"put-webhooks-id","parameters":[{"name":"webhookId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Webhook"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}},"x-codegen-request-body-name":"body"},"delete":{"tags":["Webhooks"],"summary":"Delete Webhook","description":"Delete a webhook","operationId":"delete-webhooks-webhookId","parameters":[{"name":"webhookId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/webhooks":{"get":{"tags":["Webhooks"],"summary":"List webhooks","description":"List all webhooks.","operationId":"get-webhooks","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Webhook"}}}}},"example-1":{"example":{}}}}}},"post":{"tags":["Webhooks"],"summary":"Create Webhook","description":"Create a webhook.","operationId":"post-webhooks","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Webhook"}}}}}},"409":{"description":"A webhook with this type and URL already exists.","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}},"x-codegen-request-body-name":"body"}}},"components":{"schemas":{"AuditLogEvent":{"title":"Audit Log Event","type":"object","properties":{"id":{"type":"string","description":"Autogenerated object identifier."},"user_id":{"maxLength":36,"type":"string","description":"The `id` of the user executing the action registered by this event."},"type":{"maxLength":64,"type":"string","description":"The type of the object involved in the event. This may be something like \"security\" for security events or the name of the table the action was performed on, like \"vend_customer\"."},"action":{"type":"string","description":"The type of the action performed on the object.","enum":["insert","update","delete"]},"entity_id":{"maxLength":36,"type":"string","description":"The id of the object involved in the event"},"ip_address":{"maxLength":64,"type":"string","description":"The ip address from which the request causing the event originated.","format":"ipv4"},"user_agent":{"maxLength":500,"type":"string","description":"User agent of the http client which submitted the request."},"occurred_at":{"type":"string","description":"The timestamp indicating when the action causing the event occurred.","format":"date-time"},"created_at":{"type":"string","description":"The timestamp indicating when the event was persisted to the audit log.","format":"date-time"},"data":{"type":"object","properties":{},"description":"An object in JSON format representing the new values of the attributes that were changed by the event.","nullable":true},"old_data":{"type":"object","properties":{},"description":"An object in JSON format representing the old values of the attributes that were changed by the event.","nullable":true}},"description":"The structure of the event and security event model"},"BusinessRule":{"title":"Business Rule","required":["event_type","remote_rule_id"],"type":"object","properties":{"id":{"type":"string","readOnly":true,"example":"1239349747718000640"},"event_type":{"type":"string","enum":["sale.ready_for_payment","sale.line_items.added","sale.customer.changed","sale.created","sale.updated"]},"remote_rule_id":{"type":"string","example":"1239349157873029120"},"created_at":{"type":"string","description":"The creation timestamp in UTC.","format":"date-time","readOnly":true}}},"BusinessRuleParams":{"title":"Rule Parameters","required":["event_type","remote_rule_id"],"type":"object","properties":{"event_type":{"type":"string","enum":["sale.ready_for_payment","sale.line_items.added","sale.customer.changed","sale.created","sale.updated"]},"remote_rule_id":{"type":"string","example":"1239349157873029120"}},"description":"The parameters that can be passed to the create rule API."},"CustomFieldDefinition":{"title":"Custom Field Definition","type":"object","properties":{"id":{"type":"string","readOnly":true,"example":"1239349157873029120"},"entity":{"type":"string","description":"The type of entity.","enum":["sale","line_item","customer","product"]},"name":{"type":"string","example":"my_custom_field"},"title":{"type":"string","example":"My Custom Field"},"type":{"type":"string","description":"The type of the value to be stored using this custom field.","enum":["string","integer","boolean","date","product_id","qrcode","string_array"]},"visible_in_ui":{"type":"boolean","description":"Is this custom field visible in the UI."},"editable_in_ui":{"type":"boolean","description":"Is this custom field be editable in the UI."},"created_at":{"type":"string","description":"The creation timestamp in UTC.","format":"date-time","readOnly":true}},"description":"The type, name, and configuration of a custom field."},"CustomFieldDefinitionCollection":{"title":"Custom Field Definition Collection","required":["data"],"type":"object","properties":{"data":{"type":"array","description":"An array of Custom Field Definitions.","items":{"$ref":"#/components/schemas/CustomFieldDefinition"}}},"description":"The fields returned by the custom fields definition list API."},"CustomFieldDefinitionParams":{"title":"Custom Field Definition Parameters","required":["entity","name","title","type"],"type":"object","properties":{"entity":{"type":"string","description":"The type of entity.","enum":["sale","line_item","customer","product"]},"name":{"type":"string","example":"my_custom_field"},"title":{"type":"string","example":"My Custom Field"},"type":{"type":"string","description":"The type of the value to be stored using this custom field.","enum":["string","integer","boolean","date","product_id","qrcode","string_array"]},"visible_in_ui":{"type":"boolean","description":"Should this custom field be visible in the UI.","default":false},"editable_in_ui":{"type":"boolean","description":"Should this custom field be editable in the UI.","default":false},"print_on_receipt":{"type":"boolean","description":"Should this custom field be printed on receipts.","default":false}},"description":"The parameters that can be passed to the create custom field definition API."},"CustomFieldValue":{"title":"Custom Field Value","type":"object","properties":{"definition_id":{"type":"string","description":"The ID of the custom field definition associated with this value.","readOnly":true,"example":"1239349157873029120"},"name":{"type":"string","example":"my_custom_field"},"title":{"type":"string","example":"My Custom Field"},"type":{"type":"string","description":"The type of the value to be stored using this custom field.","enum":["string","integer","boolean","date"]},"string_value":{"type":"string"},"integer_value":{"type":"integer","format":"int64"},"boolean_value":{"type":"boolean"}},"description":"The value of a custom field on an entity."},"CustomFieldValueCollection":{"title":"Custom Field Value Collection","required":["data"],"type":"object","properties":{"data":{"type":"array","description":"An array of Custom Field Values.","items":{"$ref":"#/components/schemas/CustomFieldValue"}}},"description":"The fields returned by the custom field value list API."},"CustomFieldValuesParams":{"title":"Custom Field Value Parameters","required":["entity","entity_id","values"],"type":"object","properties":{"entity":{"type":"string","description":"The entity type.","enum":["sale","line_item","customer","product"]},"entity_id":{"type":"string","description":"The ID of entity.","format":"uuid"},"values":{"type":"array","description":"The values.","items":{"required":["name"],"type":"object","properties":{"name":{"type":"string"},"string_value":{"type":"string"},"integer_value":{"type":"integer","format":"int64"},"boolean_value":{"type":"boolean"}}}}},"description":"The parameters that can be passed to the set custom field values API."},"FulfillLineItemsRequest":{"type":"object","required":["version","line_items"],"properties":{"version":{"type":"integer","format":"int32","description":"The current version number of the fulfillment.","example":5},"line_items":{"type":"array","description":"The line items to be fulfilled","items":{"$ref":"#/components/schemas/FulfillmentLineItemRequest"}}}},"FulfillmentLineItemRequest":{"type":"object","required":["sale_line_item_id","quantity"],"properties":{"sale_line_item_id":{"type":"string","format":"uuid","description":"The unique identifier of the sale line item to be fulfilled.","example":"f3a8d2c1-9b7e-4f56-8a12-3e4d5c6b7a89"},"quantity":{"type":"number","format":"double","description":"The quantity to be fulfilled","example":1}}},"FulfillLineItemsResponse":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string","description":"The unique identifier of the fulfillment.","example":"7428951063847291856"},"version":{"type":"integer","format":"int32","description":"The new version number of the fulfillment after the update.","example":3}}}}},"FulfillSaleRequest":{"type":"object","required":["sale_id"],"properties":{"sale_id":{"type":"string","format":"uuid","description":"The unique identifier of the sale to be fulfilled.","example":"075bbd4b-302a-a27c-11f0-6d3a98056287"}}},"FulfillSaleResponse":{"type":"object","properties":{"data":{"type":"array","description":"A list of the updated fulfillments.","items":{"$ref":"#/components/schemas/FulfillmentResponse"}}}},"FulfillmentResponse":{"type":"object","properties":{"id":{"type":"string","description":"The unique identifier of the fulfillment.","example":"1950523126384443392"},"version":{"type":"integer","format":"int32","description":"The new version number of the fulfillment after the update.","example":2}}},"FulfillmentSummaryResponse":{"type":"object","required":["data"],"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/FulfillmentSummaryItem"}}}},"FulfillmentSummaryItem":{"type":"object","required":["id","outlet_id","sale_id","type","state","user_ids","note","created_at","updated_at","version","line_items"],"properties":{"id":{"type":"string","description":"Unique identifier for the fulfillment summary item","example":"1947700198720344064"},"outlet_id":{"type":"string","description":"Identifier of the outlet","example":"e058ea02-c565-405f-be27-cefaeeca1f92"},"sale_id":{"type":"string","description":"Identifier of the sale","example":"81b37e5f-aa50-4fe3-95d3-a3cec73a7e2c"},"type":{"type":"string","enum":["PICKUP","DISPATCH","SERVICE"],"description":"Type of fulfillment","example":"PICKUP"},"state":{"type":"string","enum":["OPEN","STARTED","PICKED","PACKED","FULFILLED"],"description":"Current state of the fulfillment","example":"OPEN"},"user_ids":{"type":"array","items":{"type":"string"},"description":"List of user IDs associated with this fulfillment","example":["cca2eff2-9d4a-403b-a045-af953b6572b0"]},"note":{"type":"string","description":"Combined notes with newline separators","example":"Customer requested specific pickup time\nHandle with care"},"created_at":{"type":"string","format":"date-time","description":"Timestamp when the item was created","example":"2024-01-15T10:30:00Z"},"updated_at":{"type":"string","format":"date-time","description":"Timestamp when the item was last updated","example":"2024-01-15T14:20:00Z"},"version":{"type":"integer","format":"int32","description":"Version number for optimistic locking","example":1},"line_items":{"type":"array","items":{"$ref":"#/components/schemas/FulfillmentSummaryLineItem"}}}},"FulfillmentSummaryLineItem":{"type":"object","required":["sale_line_item_id","product_id","quantity","picked_quantity","packed_quantity","fulfilled_quantity"],"properties":{"sale_line_item_id":{"type":"string","description":"Identifier of the sale line item","example":"460e1119-2f41-42a3-bd61-3f9639e2e265"},"product_id":{"type":"string","description":"Identifier of the product","example":"e9d7d1b3-0561-45f5-9e40-c7bfa81db394"},"quantity":{"type":"string","pattern":"^-?\\d+(\\.\\d+)?$","description":"Total quantity (decimal as string)","example":"5.00"},"picked_quantity":{"type":"string","pattern":"^-?\\d+(\\.\\d+)?$","description":"Quantity that has been picked (decimal as string)","example":"0.00"},"packed_quantity":{"type":"string","pattern":"^-?\\d+(\\.\\d+)?$","description":"Quantity that has been packed (decimal as string)","example":"0.00"},"fulfilled_quantity":{"type":"string","pattern":"^-?\\d+(\\.\\d+)?$","description":"Quantity that has been fulfilled (decimal as string)","example":"0.00"}}},"PickLineItemsRequest":{"type":"object","required":["version","line_items"],"properties":{"version":{"type":"integer","format":"int32","description":"The current version number of the fulfillment.","example":5},"line_items":{"type":"array","description":"The line items to be picked","items":{"$ref":"#/components/schemas/PickLineItemRequest"}}}},"PickLineItemRequest":{"type":"object","required":["sale_line_item_id","quantity"],"properties":{"sale_line_item_id":{"type":"string","format":"uuid","description":"The unique identifier of the sale line item to be picked.","example":"f3a8d2c1-9b7e-4f56-8a12-3e4d5c6b7a89"},"quantity":{"type":"number","format":"double","description":"The quantity to be picked","example":1}}},"PickLineItemsResponse":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string","description":"The unique identifier of the fulfillment.","example":"7428951063847291856"},"version":{"type":"integer","format":"int32","description":"The new version number of the fulfillment after the update.","example":3}}}}},"PackLineItemsRequest":{"type":"object","required":["version","line_items"],"properties":{"version":{"type":"integer","format":"int32","description":"The current version number of the fulfillment.","example":5},"line_items":{"type":"array","description":"The line items to be packed","items":{"$ref":"#/components/schemas/PackLineItemRequest"}}}},"PackLineItemRequest":{"type":"object","required":["sale_line_item_id","quantity"],"properties":{"sale_line_item_id":{"type":"string","format":"uuid","description":"The unique identifier of the sale line item to be packed.","example":"f3a8d2c1-9b7e-4f56-8a12-3e4d5c6b7a89"},"quantity":{"type":"number","format":"double","description":"The quantity to be packed","example":1}}},"PackLineItemsResponse":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string","description":"The unique identifier of the fulfillment.","example":"7428951063847291856"},"version":{"type":"integer","format":"int32","description":"The new version number of the fulfillment after the update.","example":3}}}}},"GiftCard":{"title":"Gift Card","type":"object","properties":{"id":{"type":"string","description":"Auto-generated object ID."},"number":{"type":"string","description":"The gift card number."},"sale_id":{"type":"string","description":"The Sale ID.","format":"uuid"},"created_at":{"type":"string","description":"The creation timestamp in UTC."},"expires_at":{"type":"string","description":"The expiry timestamp in UTC."},"sale_source":{"type":"string","description":"The source of the card creation."},"status":{"type":"string","description":"The gift card status.","enum":["ACTIVE","INACTIVE","REDEEMED","VOIDED","EXPIRED"]},"balance":{"type":"number","description":"The balance of the gift card.","format":"double"},"total_sold":{"type":"number","description":"the amount loaded onto this gift card during activation or reloading.","format":"double"},"total_redeemed":{"type":"number","description":"The amount redeemed with this gift card.","format":"double"},"gift_card_transactions":{"type":"array","description":"An array of Gift Card Transactions.","items":{"$ref":"#/components/schemas/GiftCardTransaction"}}},"description":"The gift cards fields."},"GiftCardActivationParams":{"title":"Gift Card Activation Parameters","required":["amount","number"],"type":"object","properties":{"amount":{"type":"number","description":"The amount to be loaded onto the gift card.","format":"double"},"number":{"type":"string","description":"The number of the gift card."},"user_id":{"type":"string","description":"The ID of the user creating the gift card.","format":"uuid"},"expires_at":{"type":"string","description":"The expiry date time of the gift card."},"time_zone":{"type":"string","description":"The timezone of the date times for the gift card."}},"description":"The parameters taken by the create gift card API."},"GiftCardCollection":{"title":"Gift Card Collection","required":["data"],"type":"object","properties":{"data":{"type":"array","description":"An array of Gift Cards.","items":{"$ref":"#/components/schemas/GiftCard"}}},"description":"The fields returned by the gift card list API."},"GiftCardTransaction":{"title":"GiftCardTransaction","type":"object","properties":{"id":{"type":"string","description":"Auto-generated object ID."},"amount":{"type":"number","description":"The amount.","format":"double"},"type":{"type":"string","description":"The type of transaction.","enum":["ACTIVATION","REDEEMING","IMPORTING","VOIDING","EXPIRING","REVERSING","RELOADING"]},"user_id":{"type":"string","description":"The user id associated with the transaction.","format":"uuid"},"created_at":{"type":"string","description":"The creation timestamp in UTC."},"client_id":{"type":"string","description":"The client id is a unique transaction identifier. The client must provide this and is normally the transaction id from the client system."},"source":{"type":"string","description":"The source of the transaction."},"source_id":{"type":"string","description":"The source id is a unique identifier for the transaction in the source system."}},"description":"The gift card transaction details."},"GiftCardTransactionParams":{"title":"Gift Card Transaction Parameters","required":["amount","client_id","type"],"type":"object","properties":{"amount":{"type":"number","description":"The amount to be loaded onto the gift card.","format":"double"},"type":{"type":"string","description":"The type of the transaction","enum":["REDEEMING","RELOADING"]},"user_id":{"type":"string","description":"The ID of the user creating the gift card.","format":"uuid"},"client_id":{"type":"string","description":"The client id is a unique transaction identifier. The client must provide this and is normally the transaction id from the client system."},"expires_at":{"type":"string","description":"The expiry date time of the gift card."},"time_zone":{"type":"string","description":"The timezone of the date times for the gift card."}},"description":"The parameters that can be passed to the create giftcard API."},"PartnerSubscription":{"type":"object","properties":{"application_id":{"type":"string"},"application_name":{"type":"string","example":"Partner Application"},"partner_subscription_info":{"type":"array","items":{"$ref":"#/components/schemas/PartnerSubscriptionInfo"}}},"description":"PartnerSubscription contains all the subscription under one partner application"},"PartnerSubscriptions":{"type":"array","description":"PartnerSubscriptions contains all the subscriptions of the retailer from all the partners","items":{"$ref":"#/components/schemas/PartnerSubscription"}},"PartnerSubscriptionInfo":{"type":"object","properties":{"charge_interval":{"type":"integer","format":"int64","example":1},"charge_interval_unit":{"type":"string","example":"month"},"components":{"type":"array","items":{"$ref":"#/components/schemas/ProductInfoComponent"}},"currency":{"type":"string","example":"nzd"},"id":{"type":"string","example":"1348730086846538752"},"next_assessment_at":{"type":"string","example":"2021-02-11T20:34:42Z"},"price_in_cents":{"type":"string","example":"5000"},"product_family_name":{"type":"string","example":"Marshmallow Production Subscription"},"product_name":{"type":"string","example":"Marshmallow Lite Subscription"},"product_price_point_name":{"type":"string","example":"marshmallow-product-price-point"},"state":{"type":"string","example":"canceled"}}},"PartnerSubscriptionToken":{"type":"object","properties":{"components":{"type":"string","example":"{components: [{\"component_handle\": \"additional_registers\", \"component_price_point_handle\": \"basic\", \"quantity\": 2}]}"},"created_at":{"type":"string","format":"date-time","example":"2020-10-06T05:07:26Z"},"is_used":{"type":"boolean","example":true},"product_handle":{"type":"string","example":"lite"},"product_price_point_handle":{"type":"string","example":"marshmallow-lite"},"retailer_id":{"type":"string","example":"0242ac12-001c-11eb-fa07-0f585c3d42ee"},"return_url":{"type":"string","example":"https://example.com/redirect"},"subscription_id":{"type":"integer","format":"int64","example":1316881562803438000},"token":{"maxLength":32,"minLength":32,"type":"string","description":"Token is a randomly generated string that is a required parameter for consent page","example":"0a7e36eb05a94bf1a4d3daeff0f561f9"},"used_at":{"type":"string","format":"date-time","example":"2020-10-06T07:00:38Z"},"vend_application_id":{"type":"string","example":"iYsePmZaddtZRNYQrr7g3Eg2ItSkTiFx"}},"description":"PartnerSubscriptionToken repreasent a partner subscription token"},"PartnerSubscriptionTokenComponent":{"required":["component_handle","component_price_handle","quantity"],"type":"object","properties":{"component_handle":{"type":"string","description":"Unique reference to the component to be included in the new subscription","example":"additional_registers"},"component_price_handle":{"type":"string","description":"Unique reference to the component price point","example":"lite"},"quantity":{"type":"integer","description":"How many components should be added","format":"int64","example":1}},"description":"PartnerSubscriptionTokenComponent represents a component to be added to a subscription"},"PartnerSubscriptionTokenRequest":{"required":["price_handle","product_handle","return_url"],"type":"object","properties":{"components":{"type":"array","description":"Components is a list of components to add on to the plan","items":{"$ref":"#/components/schemas/PartnerSubscriptionTokenComponent"}},"coupon_code":{"type":"string","description":"CouponCode is the coupon code to be attached to the activation","example":"TEST10POFFFORLIFE"},"price_handle":{"type":"string","description":"ProductPricePointHandle is the product price point handle","example":"small-v1"},"product_handle":{"type":"string","description":"ProductHandle is the product handle","example":"small-v1"},"return_url":{"type":"string","description":"ReturnURL is the URL to which the user is redirected to after giving his/her consent","example":"https://www.example.com/return"}},"description":"PartnerSubscriptionTokenRequest represents the request's body for subscription token API"},"PartnerSubscriptionTokenResponse":{"type":"object","properties":{"expires_at":{"type":"string","description":"ExpiresAt is the exact time of token expiry in UTC timezone and displayed in RFC3339 format","example":"2020-10-06T05:07:26Z"},"expires_in":{"type":"string","description":"ExpiresIn is the number of seconds till the token is expired","example":"86400"},"token":{"maxLength":32,"minLength":32,"type":"string","description":"Token is a randomly generated string that is a required parameter for consent page","example":"0a7e36eb05a94bf1a4d3daeff0f561f9"}},"description":"PartnerSubscriptionTokenResponse contains the token and its expiration time"},"PartnerUpdateSubscriptionTokenComponent":{"required":["component_handle","quantity"],"type":"object","properties":{"component_handle":{"type":"string","description":"Unique reference for the component to be updated","example":"additional_registers"},"component_price_handle":{"type":"string","description":"Unique reference for the component price point to be updated to","example":"lite"},"quantity":{"type":"integer","description":"How many components should be there after the update","format":"int64","example":1}},"description":"PartnerUpdateSubscriptionTokenComponent represents a component to be added to an updated subscription"},"PartnerUpdateSubscriptionTokenRequest":{"required":["return_url"],"type":"object","properties":{"components":{"type":"array","description":"Components is a list of components to add on to the plan","items":{"$ref":"#/components/schemas/PartnerUpdateSubscriptionTokenComponent"}},"price_handle":{"type":"string","description":"ProductPricePointHandle is the product price point handle, required if `product_handle` is specified","example":"small-v1"},"product_handle":{"type":"string","description":"ProductHandle is the product handle to update","example":"small-v1"},"return_url":{"type":"string","description":"ReturnURL is the URL to which the user is redirected to after giving his/her consent","example":"https://www.example.com/return"}},"description":"PartnerUpdateSubscriptionTokenRequest represents the request's body for updating a subscription via token API"},"ProductInfoComponent":{"title":"ProductInfoComponent contain partner product component info.","type":"object","properties":{"charge_interval_unit":{"type":"string","example":"month"},"component_name":{"type":"string","example":"Additional Register(s) Support"},"quantity":{"type":"integer","format":"int64","example":2},"unit_price":{"type":"number","format":"double","example":20}}},"RemoteBusinessRule":{"title":"Remote Business Rules","required":["url"],"type":"object","properties":{"id":{"type":"string","readOnly":true,"example":"1239349157873029120"},"url":{"type":"string","format":"uri","example":"https://retailer.com/vend-business-rule"},"oauth_application_id":{"type":"string","description":"The ID of the application the created the remote business rule.","readOnly":true,"example":"043eec148ae192a2d88b1d658e8084a3"},"created_at":{"type":"string","description":"The creation timestamp in UTC.","format":"date-time","readOnly":true}},"description":"The configuration of a remote business rule."},"RemoteBusinessRuleParams":{"title":"Remote Rule Parameters","required":["url"],"type":"object","properties":{"url":{"type":"string","format":"uri","example":"https://retailer.com/vend-business-rule"}},"description":"The parameters that can be passed to the create remote rule API."},"StoreCreditBulkResponse":{"title":"Store Credit Bulk Response","required":["data"],"type":"object","properties":{"data":{"type":"array","description":"An array of Store Credit Customers","items":{"$ref":"#/components/schemas/StoreCreditCustomer"}}},"description":"The fields returned by the gift card list API.","x-examples":{"example-1":{"data":[{"customer_id":"160c0c4b-9966-4dc1-a916-8407eb10d74e","store_credit_transactions":[{"amount":0,"type":"ISSUE","notes":"string","user_id":"a169451c-8525-4352-b8ca-070dd449a1a5","client_id":"string","created_at":"string","sale_id":"7e9bee0e-09d3-495f-848b-5926aa2ded33"}],"balance":0,"total_credit_issued":0}]}}},"StoreCreditCustomer":{"title":"Store Credit Customer","type":"object","properties":{"customer_id":{"type":"string","description":"The customer id.","format":"uuid"},"store_credit_transactions":{"type":"array","description":"The transactions associated with this customer.","items":{"$ref":"#/components/schemas/StoreCreditTransaction"}},"balance":{"type":"number","description":"The customers store credit balance.","format":"double"},"total_credit_issued":{"type":"number","description":"The total credit issued to this customer.","format":"double"}},"description":"The store credit information for a customer.","x-examples":{"example-1":{"customer_id":"160c0c4b-9966-4dc1-a916-8407eb10d74e","store_credit_transactions":[{"amount":0,"type":"ISSUE","notes":"string","user_id":"a169451c-8525-4352-b8ca-070dd449a1a5","client_id":"string","created_at":"string","sale_id":"7e9bee0e-09d3-495f-848b-5926aa2ded33"}],"balance":-1.7976931348623157e+308,"total_credit_issued":-1.7976931348623157e+308}}},"StoreCreditReport":{"title":"Store Credit Report","type":"object","properties":{"total_value_issued":{"type":"number","description":"The total credit issued.","format":"double"},"total_value_redeemed":{"type":"number","description":"The total value redeemed.","format":"double"},"outstanding_balance":{"type":"number","description":"The outstanding balance.","format":"double"}},"description":"The store credit report for a retailer."},"StoreCreditTransaction":{"title":"Store Credit Transaction for Customer","type":"object","properties":{"amount":{"type":"number","description":"The amount of the transaction.","format":"double"},"type":{"type":"string","description":"The type of the transaction","enum":["ISSUE","REDEMPTION","REVERSE"]},"notes":{"type":"string","description":"The notes associated with the transaction."},"user_id":{"type":"string","description":"The user id of the person who handled the transaction.","format":"uuid"},"client_id":{"type":"string","description":"The client id is a unique transaction identifier. The client must provide this and is normally the transaction id from the client system.\n"},"created_at":{"type":"string","description":"The date time the transaction was created and/or modified."},"sale_id":{"type":"string","description":"The sale id the transaction is associated with. This should be null for transactions initiated outside of Lightspeed Retail. If it is a sale id, it will be in UUID format.","format":"uuid"}},"description":"The store credit information for a customer transaction."},"StoreCreditTransactionParams":{"title":"Store Credit Transaction Parameters for Customer","required":["amount","client_id","store_credit_customer_id","type"],"type":"object","properties":{"store_credit_customer_id":{"type":"string","description":"The store credit customer id"},"amount":{"type":"number","description":"The amount of the transaction.","format":"double"},"type":{"type":"string","description":"The type of the transaction","enum":["ISSUE","REDEMPTION","REVERSE"]},"notes":{"type":"string","description":"The notes associated with the transaction."},"user_id":{"type":"string","description":"The user id of the person who handled the transaction.","format":"uuid"},"client_id":{"type":"string","description":"The client id is a unique transaction identifier. The client must provide this and is normally the transaction id from the client system.\n"}},"description":"The store credit transaction parameters for a customer transaction."},"UpdateCustomFieldParams":{"title":"Parameters for updating a custom field","type":"object","properties":{"title":{"type":"string","example":"My Custom Field"},"visible_in_ui":{"type":"boolean","description":"Should this custom field be visible in the UI."},"editable_in_ui":{"type":"boolean","description":"Should this custom field be editable in the UI."},"print_on_receipt":{"type":"boolean","description":"Should this custom field be printed on receipts."}}},"Webhook":{"title":"Webhook","type":"object","properties":{"id":{"type":"string","description":"The ID of this webhook"},"retailer_id":{"type":"string","description":"The ID of the retailer this webhook belongs to"},"active":{"type":"boolean","description":"Whether this webhook is enabled or not"},"url":{"type":"string","description":"The URL to send this webhook to"},"type":{"$ref":"#/components/schemas/WebhookType"}},"description":"The configuration for a webhook.","x-examples":{}},"WebhookRequest":{"title":"WebhookRequest","required":["active","type","url"],"type":"object","properties":{"url":{"minLength":3,"type":"string","description":"The URL to send webhooks to"},"active":{"type":"boolean","description":"Whether this webhook is enabled or not"},"type":{"$ref":"#/components/schemas/WebhookType"}},"description":"Webhook create/update request data.","x-examples":{"example-1":{"url":"string","active":true,"type":"sale.update"}}},"WebhookType":{"title":"WebhookType","type":"string","description":"The webhook type. These can be one of:\n- sale.update\n- product.update\n- customer.update\n- inventory.update\n- register_closure.create\n- consignment.send\n- consignment.receive\n","x-examples":{"example-1":"sale.update"}}},"parameters":{"After":{"name":"after","in":"query","description":"The lower limit for the version numbers to be included in the response.","schema":{"type":"integer","format":"int64","minimum":0},"allowEmptyValue":true},"Before":{"name":"before","in":"query","description":"The upper limit for the version numbers to be included in the response.","schema":{"type":"integer","format":"int64","minimum":0},"allowEmptyValue":true},"Deleted":{"name":"deleted","in":"query","description":"Indicates whether deleted items should be included in the response.","schema":{"type":"boolean"}},"PageSize":{"name":"page_size","in":"query","description":"The maximum number of items to be returned in the response.","schema":{"type":"integer","default":100,"minimum":1}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}